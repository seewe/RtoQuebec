<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>BLOGDOWNàQUÉBEC  </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="/css/blog.css" />
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/img/logo.png" alt="BLOGDOWNàQUÉBEC Logo">
            </a>
        </div>
    </nav>
    

    
    <section class="hero is-light is-bold is-medium">
        <div class="hero-body" style="background-image: url(/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        Construire un graphe interactif sous R
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                <script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/d3/d3.min.js"></script>
<script src="/rmarkdown-libs/forceNetwork-binding/forceNetwork.js"></script>


<div id="introduction" class="section level1">
<h1>INTRODUCTION</h1>
<p>La représentation graphique des données reste un moyen important d’explorer l’information contenue dans les jeux de données. Il est plus facile de construire un histogramme et de suspecter une distribution normale plutôt que de calculer des statistiques descriptives et d’avoir les mêmes suspissions.<br />
Dans ce tutoriel, nous voulons représenter les graphes (réseau) pour illustrer les liens qui peuvent exister entre des entités d’une communauté.</p>
</div>
<div id="definition-de-graphes" class="section level1">
<h1>DÉFINITION DE GRAPHES</h1>
<p>D’après l’encyclopédie en ligne Wikipédia, La théorie des graphes est la discipline mathématique et informatique qui étudie les graphes.<br />
Un graphe est un modèle abstrait de dessins de réseaux reliant des objets. Ce modèle est constitué par la donnée de <code>points</code>, appelés nœuds ou sommets (en référence aux polyèdres), et de <code>liens</code> entre ces points. ces liens sont souvent symétriques (les graphes sont alors dits non orientés) et sont appelés des arêtes. L’image ci-dessous illutre la définition d’un graphe non orienté.<br />
<img src="F:/codeSources/graphill.png" alt="Exemple de graphe non orienté" /></p>
<p>Ce tutoriel ne revient pas sur la théorie des graphes. Il illustre simplement la construction des graphes non orientés et interactif avec <code>R</code>.</p>
</div>
<div id="exemple-pratique-representation-des-liens-entre-les-etudiants" class="section level1">
<h1>EXEMPLE PRATIQUE : REPRÉSENTATION DES LIENS ENTRE LES ÉTUDIANTS</h1>
<p>Les données de ce papier sont fictives. Il s’agit d’un ensemble de <span class="math inline">\(23\)</span> étudiants d’une salle de classe qui participent aux activités parascolaire chaque fin de semaines. Sur la base de la participation aux activités, le papier représente graphiquement les liens significatifs qui existent entre les étudiants.</p>
<div id="la-matrice-de-presence-absence-mpa-aux-activites-parascolaires" class="section level2">
<h2>La matrice de présence-absence (Mpa) aux activités parascolaires</h2>
<pre><code>##   Etudiants group Cine Soccer Biblio Club Religion Ferme Resto
## 1  Bertholo  grp4    1      0      1    0        1     0     1
## 2     Vanou  grp4    1      0      1    0        1     0     1
## 3 Carmelito  grp4    0      1      1    1        0     0     0
## 4   LeMaham  grp2    0      1      0    0        1     0     1
## 5     Serge  grp2    1      1      0    0        0     1     1</code></pre>
</div>
<div id="la-structure-de-regroupement-des-etudiants" class="section level2">
<h2>La structure de regroupement des étudiants</h2>
<p>Les figures ci-dessous montrent qu’il existe une structure de cooccurrence entre les étudiants. La théorie de cette méthode est developpée dans le tutoriel des <code>null models</code>.</p>
<pre><code>##         temp    N0  NODF Cscore
## p.value 0.72 0.926 0.838  0.038</code></pre>
<p><img src="/post/graphinterac_files/figure-html/unnamed-chunk-2-1.png" width="1248" /></p>
</div>
<div id="la-matrice-de-lien-significatif-entre-les-etudiants" class="section level2">
<h2>La matrice de lien significatif entre les étudiants</h2>
<p>Pour étudier la cooccurrence détectée ci-dessus en profondeur, le tutoriel mesure le lien entre les étudiants. Ce lien est mesuré par la distance de Sorensen. Cette diatance mesure la similarité ou la dissimilarité entre deux entités de la Mpa. Un lien est significatif lorsqu’il n’émane pas du hasard. Le tutoriel calcule la matrice de lien entre les étudiant et la représente grapgiquement.</p>
<pre><code>## NULL</code></pre>
<pre><code>##        from       to       Sor cooc p.val.cooc meanSimCooc     sens.cooc
## 1  Bertholo    Vanou 1.0000000    4      0.046       2.318    Similarite
## 9  Bertholo Sorelite 0.0000000    0      0.048       1.738 Dissimilarite
## 11 Bertholo LaHossou 0.8888889    4      0.322       2.890    Similarite
## 18 Bertholo     Roma 0.2500000    1      0.214       2.312 Dissimilarite
## 30    Vanou Sorelite 0.0000000    0      0.058       1.741 Dissimilarite</code></pre>
</div>
<div id="representations-graphiques" class="section level2">
<h2>Représentations graphiques</h2>
<div id="representation-du-graphe-non-interactif" class="section level3">
<h3>Représentation du graphe non interactif</h3>
<pre class="r"><code># Définir les couleurs du graphe
color1&lt;-&quot;darkseagreen2&quot; ; color2&lt;-&quot;lightblue1&quot; ; color3&lt;-&quot;black&quot;

# Jeu de données pour représenter le graphe
bdgraph&lt;-Test.cooc[,c(&quot;from&quot;,&quot;to&quot;,&quot;Sor&quot;)]
g=graph.data.frame(bdgraph[,-3], directed=FALSE)
graph_layout=layout.fruchterman.reingold(g)

# Représentation du graphe
plot.igraph(g, 
     layout=graph_layout, 
     edge.width=(exp(bdgraph$Sor)), 
     vertex.label.cex=0.7,
     vertex.color=color1,
     vertex.frame.color=color2,
     vertex.size=18,
     edge.color=color3
)</code></pre>
<p><img src="/post/graphinterac_files/figure-html/unnamed-chunk-4-1.png" width="1248" /></p>
</div>
<div id="representation-du-graphe-interactif" class="section level3">
<h3>Représentation du graphe interactif</h3>
<pre class="r"><code># Les noeuds du graphe
vertx&lt;-as.factor(vertex.attributes(g)$name)  ;  nnod&lt;-length(vertx)
netw3d.from&lt;-as.character(Test.cooc$from)   ;  netw3d.to&lt;-as.character(Test.cooc$to)

# Création du jeu de données de description des noeud
MyNodes&lt;-data.frame( species=levels(vertx) )  ;  group&lt;-c()
for (i in 1:nnod) {
  grp&lt;-as.character(etudiants[as.character(etudiants$Etudiants)==as.character(MyNodes[i,]),2])
  group&lt;-c(group,grp)
}
MyNodes&lt;-data.frame( student=levels(vertx) , group=factor(group) , size=rep(5,nnod))

# Jeu de données qui spécifie les liens entre les étudiants
MyLinks&lt;-data.frame(from=as.double(factor(netw3d.from,levels(vertx)))-1, # On fait -1 pour indexer à 0
                    to=as.double(factor(netw3d.to,levels(vertx)))-1,     # On fait -1 pour indexer à 0
                    Cooc=Test.cooc$cooc+1,                               # +1 pour eviter des liens nuls
                    typeLink=as.factor(Test.cooc$sens.cooc ))  

# Vecteur de couleur des liens entre les étudiants
MyLinks$Linkcolor&lt;-Colinks&lt;-ifelse(MyLinks$typeLink==&quot;Similarite&quot;,&quot;black&quot;,&quot;red&quot;)

# Les jeux de données pour représenter le graphe
head(MyNodes,3)</code></pre>
<pre><code>##   student group size
## 1    Abib  grp1    5
## 2   Afann  grp4    5
## 3   Astro  grp4    5</code></pre>
<pre class="r"><code>head(MyLinks,3)</code></pre>
<pre><code>##   from to Cooc      typeLink Linkcolor
## 1    3 19    5    Similarite     black
## 2    3 16    1 Dissimilarite       red
## 3    3  8    5    Similarite     black</code></pre>
<pre class="r"><code># Représentation du graphe
forceNetwork(Links = MyLinks, Nodes = MyNodes, Source = &quot;from&quot;, Target = &quot;to&quot;, Value = &quot;Cooc&quot;,
             NodeID = &quot;student&quot;, Group = &quot;group&quot;, opacity = 0.9, Nodesize = &quot;size&quot;, 
             linkDistance = 90, fontSize = 20, linkColour = Colinks, legend = TRUE)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"links":{"source":[3,3,3,3,19,19,19,10,10,10,10,15,15,13,13,13,13,13,12,12,12,12,12,12,2,11,11,11,16,16,17,17,17,17,6,6,7,4,4,4,0,0,5,14],"target":[19,16,8,14,16,8,14,7,0,1,9,11,6,12,4,5,14,18,11,17,6,4,5,18,8,5,14,18,8,14,7,5,1,18,5,18,1,5,14,18,14,9,18,9],"value":[5,1,5,2,1,5,2,4,3,1,3,5,4,4,1,2,2,2,2,1,1,1,1,1,5,5,5,5,2,4,4,4,1,4,4,4,1,4,4,4,1,3,5,1],"colour":["black","red","black","red","red","black","red","black","black","red","black","black","black","black","red","red","red","red","red","red","red","red","red","red","black","black","black","black","red","black","black","black","red","black","black","black","red","black","black","black","red","black","black","red"]},"nodes":{"name":["Abib","Afann","Astro","Bertholo","Borio","Cedrico","Florent","HighTech","LaHossou","LeCherif","LeMaham","Maxi","Nelly","Reine","Roma","Serge","Sorelite","ThePig","TheTouks","Vanou"],"group":["grp1","grp4","grp4","grp4","grp2","grp2","grp4","grp1","grp1","grp2","grp2","grp4","grp4","grp4","grp1","grp2","grp1","grp1","grp2","grp4"],"nodesize":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]},"options":{"NodeID":"student","Group":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":20,"fontFamily":"serif","clickTextSize":50,"linkDistance":90,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":0.9,"zoom":false,"legend":true,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>

            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="/tags/development">development</a></span>
        
            <span class="tag"><a href="/tags/go">go</a></span>
        
            <span class="tag"><a href="/tags/golang">golang</a></span>
        
            <span class="tag"><a href="/tags/hugo">hugo</a></span>
        
            <span class="tag"><a href="/tags/plot">plot</a></span>
        
            <span class="tag"><a href="/tags/r-markdown">r-markdown</a></span>
        
            <span class="tag"><a href="/tags/regression">regression</a></span>
        
            <span class="tag"><a href="/tags/templates">templates</a></span>
        
            <span class="tag"><a href="/tags/themes">themes</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Posts récent</h1>
        
            <h1><a href="/post/graphinterac/">Construire un graphe interactif sous R</a></h1>
            <time class="has-text-grey-light is-size-7">15 November 2018</time>
        
            <h1><a href="/post/mypost/">MODÉLISATION DES DONNÉES DU TOMPA TREE</a></h1>
            <time class="has-text-grey-light is-size-7">14 November 2018</time>
        
            <h1><a href="/post/2015-07-23-r-rmarkdown/">Hello R Markdown</a></h1>
            <time class="has-text-grey-light is-size-7">23 July 2015</time>
        
            <h1><a href="/post/creating-a-new-theme/">Creating a New Theme</a></h1>
            <time class="has-text-grey-light is-size-7">28 September 2014</time>
        
            <h1><a href="/post/hugoisforlovers/">Getting Started with Hugo</a></h1>
            <time class="has-text-grey-light is-size-7">2 April 2014</time>
        
    </div>
</div>
    <br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="/archives/2018">2018</a> (2)<br>
        
            <a href="/archives/2015">2015</a> (1)<br>
        
            <a href="/archives/2014">2014</a> (4)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://www.facebook.com/" class="mysocial"><i class="fab fa-facebook-square fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/watch?v=-9uuyJzWzCI&t=7s" class="mysocial"><i class="fas fa-tv fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/seewe/RtoQuebec" class="mysocial"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; BLOGDOWNàQUÉBEC 2018 
            <br><br>
            Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
